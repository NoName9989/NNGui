-- Hendar Loading UI
local player = game:GetService("Players").LocalPlayer
local TweenService = game:GetService("TweenService")

local gui = Instance.new("ScreenGui")
gui.Name = "HendarLoading"
gui.IgnoreGuiInset = true
gui.ResetOnSpawn = false
gui.Parent = player:WaitForChild("PlayerGui")

-- Background
local bg = Instance.new("Frame", gui)
bg.Size = UDim2.new(1,0,1,0)
bg.BackgroundColor3 = Color3.fromRGB(0,0,0)

-- Cloud Image
local cloud = Instance.new("ImageLabel", bg)
cloud.Size = UDim2.new(0,300,0,200)
cloud.Position = UDim2.new(0.5,-150,0.3,-100)
cloud.BackgroundTransparency = 1
cloud.Image = "rbxassetid://0000000" -- thay id ·∫£nh b·∫°n th√≠ch

-- Loading Text
local loadingText = Instance.new("TextLabel", bg)
loadingText.Size = UDim2.new(1,0,0,50)
loadingText.Position = UDim2.new(0,0,0.65,0)
loadingText.BackgroundTransparency = 1
loadingText.Text = "LOADING"
loadingText.Font = Enum.Font.Arcade
loadingText.TextSize = 40
loadingText.TextColor3 = Color3.fromRGB(255,100,180)

-- Progress Bar BG
local barBG = Instance.new("Frame", bg)
barBG.Size = UDim2.new(0,300,0,20)
barBG.Position = UDim2.new(0.5,-150,0.75,0)
barBG.BackgroundColor3 = Color3.fromRGB(50,50,50)
Instance.new("UICorner", barBG).CornerRadius = UDim.new(0,10)

-- Progress Fill
local barFill = Instance.new("Frame", barBG)
barFill.Size = UDim2.new(0,0,1,0)
barFill.BackgroundColor3 = Color3.fromRGB(255,0,255)
Instance.new("UICorner", barFill).CornerRadius = UDim.new(0,10)

-- Gradient
local gradient = Instance.new("UIGradient", barFill)
gradient.Color = ColorSequence.new{
    ColorSequenceKeypoint.new(0, Color3.fromRGB(255,100,180)),
    ColorSequenceKeypoint.new(0.5, Color3.fromRGB(150,255,200)),
    ColorSequenceKeypoint.new(1, Color3.fromRGB(100,200,255))
}

-- % Text
local percentText = Instance.new("TextLabel", bg)
percentText.Size = UDim2.new(1,0,0,40)
percentText.Position = UDim2.new(0,0,0.8,0)
percentText.BackgroundTransparency = 1
percentText.Text = "0%"
percentText.Font = Enum.Font.Arcade
percentText.TextSize = 30
percentText.TextColor3 = Color3.fromRGB(255,100,180)

-- Animate Loading
for i = 0, 100 do
    barFill.Size = UDim2.new(i/100,0,1,0)
    percentText.Text = i .. "%"
    task.wait(0.02)
end

-- Fade Out Function (fix)
local function fadeOut(obj)
    if obj:IsA("TextLabel") then
        TweenService:Create(obj, TweenInfo.new(1), {TextTransparency = 1}):Play()
    elseif obj:IsA("ImageLabel") then
        TweenService:Create(obj, TweenInfo.new(1), {ImageTransparency = 1}):Play()
    elseif obj:IsA("Frame") then
        TweenService:Create(obj, TweenInfo.new(1), {BackgroundTransparency = 1}):Play()
    end
end

for _,v in pairs(bg:GetDescendants()) do
    fadeOut(v)
end
fadeOut(bg)

task.wait(1.5)
gui:Destroy()

local Players = game:GetService("Players")
local player = Players.LocalPlayer

-- GUI g·ªëc
local gui = Instance.new("ScreenGui")
gui.Name = "CustomHub"
gui.ResetOnSpawn = false
gui.IgnoreGuiInset = true
gui.Parent = player:WaitForChild("PlayerGui")

-- Khung ch√≠nh
local main = Instance.new("Frame", gui)
main.Size = UDim2.new(0, 450, 0, 300)
main.Position = UDim2.new(0.5, -225, 0.5, -150)
main.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
main.BorderSizePixel = 0
main.Active = true
main.Draggable = true
Instance.new("UICorner", main).CornerRadius = UDim.new(0, 10)

-- Header
local header = Instance.new("Frame", main)
header.Size = UDim2.new(1, 0, 0, 32)
header.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
header.BorderSizePixel = 0
Instance.new("UICorner", header).CornerRadius = UDim.new(0, 10)

-- T√™n Hub
local title = Instance.new("TextLabel", header)
title.Text = "‚ú® Name Hub  |  Plants vs Brainrots ‚ú®"
title.Size = UDim2.new(1, -80, 1, 0)
title.Position = UDim2.new(0, 12, 0, 0)
title.BackgroundTransparency = 1
title.TextXAlignment = Enum.TextXAlignment.Left
title.Font = Enum.Font.GothamSemibold
title.TextSize = 15
title.TextColor3 = Color3.fromRGB(255, 255, 255)

-- N√∫t Thu Nh·ªè
local minimize = Instance.new("TextButton", header)
minimize.Size = UDim2.new(0, 24, 0, 24)
minimize.Position = UDim2.new(1, -60, 0.5, -12)
minimize.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
minimize.Text = "-"
minimize.Font = Enum.Font.GothamBold
minimize.TextSize = 18
minimize.TextColor3 = Color3.fromRGB(220, 220, 220)
Instance.new("UICorner", minimize).CornerRadius = UDim.new(0, 5)

-- T·∫°o icon thu nh·ªè
local miniIcon = Instance.new("ImageButton")
miniIcon.Name = "MiniIcon"
miniIcon.Size = UDim2.new(0, 40, 0, 40)
miniIcon.Position = UDim2.new(0, 12, 0, 80) -- v·ªã tr√≠ g√≥c tr√°i
miniIcon.BackgroundTransparency = 1
miniIcon.BorderSizePixel = 0
miniIcon.Image = "rbxassetid://6421296794"
miniIcon.Visible = false
miniIcon.Parent = gui

-- N√∫t thu nh·ªè
local minimized = false
minimize.MouseButton1Click:Connect(function()
    minimized = not minimized
    if minimized then
        main.Visible = false
        sidebar.Visible = false
        content.Visible = false
        miniIcon.Visible = true
    else
        main.Visible = true
        sidebar.Visible = true
        content.Visible = true
        miniIcon.Visible = false
    end
end)

-- Khi b·∫•m v√†o icon th√¨ m·ªü l·∫°i GUI
miniIcon.MouseButton1Click:Connect(function()
    minimized = false
    main.Visible = true
    sidebar.Visible = true
    content.Visible = true
    miniIcon.Visible = false
end)
-- N√∫t ƒê√≥ng
local closeBtn = Instance.new("TextButton", header)
closeBtn.Size = UDim2.new(0, 24, 0, 24)
closeBtn.Position = UDim2.new(1, -30, 0.5, -12)
closeBtn.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
closeBtn.Text = "X"
closeBtn.Font = Enum.Font.GothamBold
closeBtn.TextSize = 14
closeBtn.TextColor3 = Color3.fromRGB(255, 255, 255)
Instance.new("UICorner", closeBtn).CornerRadius = UDim.new(0, 5)

-- Sidebar Tabs (ScrollingFrame)
local sidebar = Instance.new("ScrollingFrame", main)
sidebar.Size = UDim2.new(0, 110, 1, -32)
sidebar.Position = UDim2.new(0, 0, 0, 32)
sidebar.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
sidebar.BorderSizePixel = 0
sidebar.CanvasSize = UDim2.new(0, 0, 0, 0)
sidebar.ScrollBarThickness = 4
sidebar.ScrollBarImageTransparency = 1 -- ·∫©n thanh cu·ªôn
sidebar.ScrollingDirection = Enum.ScrollingDirection.Y -- ch·ªâ cu·ªôn d·ªçc

-- Layout cho tab
local listLayout = Instance.new("UIListLayout", sidebar)
listLayout.Padding = UDim.new(0, 6)
listLayout.SortOrder = Enum.SortOrder.LayoutOrder
listLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
local padding = Instance.new("UIPadding", sidebar)
padding.PaddingTop = UDim.new(0, 8)

-- Content Area
local content = Instance.new("Frame", main)
content.Size = UDim2.new(1, -110, 1, -32)
content.Position = UDim2.new(0, 110, 0, 32)
content.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
content.BorderSizePixel = 0

-- Tab system
local activeTab

local function createTab(name, order)
    local tabBtn = Instance.new("TextButton", sidebar)
    tabBtn.Size = UDim2.new(1, -16, 0, 32) -- chu·∫©n khung, ƒë·ªÅu 2 b√™n
    tabBtn.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
    tabBtn.Text = name
    tabBtn.LayoutOrder = order
    tabBtn.Font = Enum.Font.GothamSemibold
    tabBtn.TextSize = 13
    tabBtn.TextColor3 = Color3.fromRGB(230, 230, 230)
    Instance.new("UICorner", tabBtn).CornerRadius = UDim.new(0, 6)

    -- N·ªôi dung tab
    local page = Instance.new("Frame", content)
    page.Name = name
    page.Size = UDim2.new(1, 0, 1, 0)
    page.BackgroundTransparency = 1
    page.Visible = false

    local label = Instance.new("TextLabel", page)
    label.Size = UDim2.new(1, 0, 1, 0)
    label.BackgroundTransparency = 1
    label.Text = "üìå N·ªôi dung c·ªßa " .. name
    label.TextColor3 = Color3.fromRGB(255, 255, 255)
    label.Font = Enum.Font.GothamSemibold
    label.TextSize = 16

    -- Click tab
    tabBtn.MouseButton1Click:Connect(function()
        if activeTab then
            activeTab.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
            content[activeTab.Text].Visible = false
        end
        tabBtn.BackgroundColor3 = Color3.fromRGB(70, 130, 180)
        page.Visible = true
        activeTab = tabBtn
    end)
end

-- T·∫°o nhi·ªÅu tab m·∫´u
for i, v in ipairs({"Main","Settings","Credits","Extra","Debug","More","Test1","Test2"}) do
    createTab(v, i)
end

-- Auto update CanvasSize theo s·ªë tab
listLayout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
    sidebar.CanvasSize = UDim2.new(0, 0, 0, listLayout.AbsoluteContentSize.Y + 16)
end)

-- N√∫t Close & Minimize
closeBtn.MouseButton1Click:Connect(function()
    gui:Destroy()
end)

local minimized = false
minimize.MouseButton1Click:Connect(function()
    minimized = not minimized
    content.Visible = not minimized
    sidebar.Visible = not minimized
    if minimized then
        main.Size = UDim2.new(0, 200, 0, 50)
    else
        main.Size = UDim2.new(0, 450, 0, 300)
    end
end)

-- Ch·ªçn tab ƒë·∫ßu ti√™n m·∫∑c ƒë·ªãnh
task.defer(function()
    local firstTab = sidebar:FindFirstChildWhichIsA("TextButton")
    if firstTab then firstTab.MouseButton1Click:Fire() end
end)
